# 异常分析简介


> *“Never take the comment that you are different as a condemnation, it might be a compliment. It might mean that you possess unique qualities that, like the most rarest of diamonds is . . . one of a kind.”* – Eugene Nathaniel Butler

---

## 1.1 简介

异常值是与剩余数据显着不同的数据点。 *Hawkins*定义[249]异常值如下：

> *“异常值是一种观察结果，与其他观察结果有很大差异，以至于会让人怀疑它是由不同的机制产生。”*

异常值（Outliers）在数据挖掘和统计文献中也被称为*异常*，*不一致*，*偏差*或*异常*。 在大多数应用程序中，数据由一个或多个生成过程创建，这些过程可以反映系统中的活动或收集的有关实体的观察结果。 当生成过程表现异常时，会导致异常值的产生。 因此，异常值通常包含有关影响数据生成过程的系统和实体的异常特征的有用信息。 对这些不寻常特征的识别提供了有用的特定于应用的见解。 一些例子如下：
- 入侵检测系统：在许多计算机系统中，收集有关操作系统调用，网络流量或其他用户操作的不同类型的数据。 由于恶意活动，此数据可能会显示异常行为。 对此类活动的识别称为入侵检测。
- 信用卡欺诈：信用卡欺诈越来越普遍，因为信用卡号等敏感信息可以更容易受到损害。 在许多情况下，未经授权使用信用卡可能会显示不同的模式，例如从特定地点购买特权或非常大的交易。 这些模式可用于检测信用卡交易数据中的异常值。
- 有趣的传感器事件：传感器通常用于跟踪许多实际应用中的各种环境和位置参数。基础模式的突然变化可能代表感兴趣的事件。事件检测是传感器网络领域的主要激励应用之一。正如本书后面所讨论的，事件检测是离群值检测的重要时间版本。
- 医疗诊断：在许多医疗应用中，数据来自各种设备，如磁共振成像（MRI）扫描，正电子发射断层扫描（PET）扫描或心电图（ECG）时间序列。这些数据中的不寻常模式通常反映疾病状况。
- 执法：异常检测在执法中发现了许多应用，特别是在只能通过实体的多种行为随时间发现异常模式的情况下。确定金融交易，交易活动或保险索赔中的欺诈通常需要识别由犯罪实体的行为产生的数据中的异常模式。
- 地球科学：通过卫星或遥感等各种机制收集大量关于天气模式，气候变化或土地覆盖模式的时空数据。此类数据中的异常情况可提供有关人类活动或环境趋势的重要见解，这可能是潜在原因。

在所有这些应用中，数据具有“正常”模型，并且异常被识别为与该正常模型的偏差。 正常数据点有时也称为内点。 在诸如入侵或欺诈检测的一些应用中，异常值对应于多个数据点的序列而不是单个数据点。 例如，欺诈事件通常可以反映个体在特定序列中的行为。 序列的特异性与识别异常事件有关。 这种异常也被称为集体异常，因为它们只能从一组或一系列数据点集体推断出来。 这种集体异常通常是产生异常活动模式的异常事件的结果。 本书将解决这些不同类型的异常。

异常检测算法的输出可以是以下两种类型之一：
- 异常值：大多数离群值检测算法输出一个量化每个数据点“离群值”水平的分数。 该分数还可用于按其异常趋势的顺序对数据点进行排名。 这是一种非常通用的输出形式，它保留了特定算法提供的所有信息，但它没有提供应被视为异常值的少量数据点的简明摘要。
- 二进制标签：第二种类型的输出是二进制标签，指示数据点是否是异常值。 虽然某些算法可能直接返回二进制标签，但异常值也可以转换为二进制标签。 这通常通过对异常值得分施加阈值来实现，并且基于得分的统计分布来选择阈值。 二进制标记包含的信息少于评分机制，但它是实际应用中决策制定通常需要的最终结果。

对于一个被视为异常值的点的“足够”偏差，通常是一种主观判断。 在实际应用中，数据可以嵌入到大量的噪音，这种噪音可能对分析师不感兴趣。这通常是令人感兴趣的非常有趣的偏差。为了说明这一点，请考虑图1.1（a）和（b）中所示的示例。很明显，数据中的主要模式（或群集）在两种情况下都是相同的，尽管这些主要群集之外存在显着差异。在图1.1（a）的情况下，单个数据点（标记为“A”）似乎与其余数据非常不同，因此非常明显是异常。图1.1（b）中的情况更为主观。虽然图1.1（b）中的相应数据点“A”也处于数据的稀疏区域，但更难以自信地表明它表示与剩余数据集的真实偏差。该数据点很可能代表数据中随机分布的噪声。这是因为点'A'似乎适合由其他随机分布点表示的模式。因此，在本书中，术语“异常值”指的是可被视为异常或噪声的数据点，而“异常”指的是分析人员感兴趣的特殊异常值。

在无监督场景中，前面的有趣异常示例不可用，噪声代表正常数据和真实异常之间的语义边界 - 噪声通常被建模为弱点形式的异常值，并不总是满足数据所需的强标准 要点被认为是有趣的或异常的。 例如，群集边界处的数据点通常可被视为噪声。通常，大多数离群值检测算法使用数据点的离群值的一些量化度量，例如基础区域的稀疏性，基于最近邻居的距离，或者对基础数据分布的拟合。每个数据点都位于从正常数据到噪声的连续谱上，最后是异常，如图1.2所示。该频谱的不同区域的分离通常不是精确定义的，并且是根据应用特定标准在临时基础上选择的。此外，噪声和异常之间的分离并不是纯粹的，并且由嘈杂的生成过程产生的许多数据点可能具有足够的偏差，可以基于异常值得分被解释为异常。因此，异常通常具有比噪声高得多的异常值，但这不是两者之间的区别因素。相反，分析师的兴趣是调节噪声和异常之间的区别。

一些作者使用弱异常值和强异常值来区分噪声和异常[4,318]。 数据中的噪声检测具有其自身的许多应用。 例如，去除噪声可以创建更清晰的数据集，可以用于其他数据挖掘算法。 虽然噪声本身可能不是很有趣，但它的清除和识别仍然是挖掘目的的一个重要问题。 因此，噪声和异常检测问题在本书中都很重要。 在本书中，将确定与异常检测或噪声消除特别相关的方法。 但是，大多数离群值检测算法都可以用于任何一个问题，因为它们之间的区别实际上是语义之一。

由于噪声和异常之间的语义区别是基于分析师的兴趣，因此找到这种异常并将其与噪声区分开的最佳方法是使用来自先前已知的异常示例的反馈。在许多应用中经常出现这种情况，例如信用卡欺诈检测，其中可能存在先前有趣的异常示例。这些可用于学习区分正常模式和异常数据的模型。监督异常值检测技术通常在许多特定于应用程序的场景中更有效，因为前面示例的特征可用于将搜索过程锐化为更相关的异常值。这很重要，因为异常值可以在给定数据集中以多种方式定义，其中大多数可能不是很有趣。例如，在图1.1（a）和（b）中，先前的示例可能表明只有具有异常高的两个属性值的记录才应被视为异常。在这种情况下，两个图中的点'A'应视为噪声，而图1.1（b）中的点'B'应视为异常！这里理解的关键点是异常需要以一种有趣的方式不寻常，监督过程重新定义了人们可能会感兴趣的东西。通常，无监督方法可用于噪声消除或异常检测，并且监督方法被设计用于特定应用异常检测。在探索性环境中经常使用无法使用的方法，其中将发现的异常值提供给分析人员，以进一步检查其特定应用的重要性。

在实际情况下，可以进行多级监督。 在完全监督的情景中，可以清楚地区分正常和异常数据的示例。 在某些情况下，可以使用异常值的示例，但“正常”数据的示例也可能包含某些（未知）比例的异常值。 这被称为具有正数和未标记数据的分类。 在其他半监督场景中，仅可以获得正常数据的示例或仅异常数据的示例。 因此，问题的变化的数量相当大，每个变化需要相关但专用的技术集。

最后，数据表示可能因应用程序而有很大差异。例如，数据可以是纯多维的，点之间没有关系，或者数据可以按时间顺序顺序，或者可以以具有数据点之间的任意关系的网络的形式定义。此外，数据中的属性可以是数字，分类或混合。显然，异常值检测过程需要对基础数据中属性和关系的性质敏感。实际上，关系本身通常可以以通常不一起出现的实体之间的连接的形式提供异常值检测标准。这种异常值被称为上下文异常值。一个典型的例子是社交网络分析中链接异常值的概念[17]。在这种情况下，图中通常未连接在一起的实体（节点）可能显示彼此的异常连接。因此，数据类型对异常检测过程的影响很大，本书将对此进行认真解决。

本章安排如下。在1.2节中，讨论了异常值分析中数据建模的重要性。在1.3节中，介绍了异常值检测的基本异常值模型。异常集合在1.4节中介绍。第1.5节讨论了用于分析的基本数据类型。 1.6节介绍了用于数据分析的异常值的监督建模的概念。评估离群值检测算法的方法在1.7节中讨论。结论见第1.8节。

## 1.2 数据模型就是一切
